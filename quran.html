<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ù…Ø³Ù…ÙˆØ¹ | Ø±ÙˆØ­Ø§Ù†ÙŠØ§Øª</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amiri&family=Tajawal:wght@500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Tajawal', sans-serif; background: #020617; color: white; }
        .reader-card { transition: 0.3s; cursor: pointer; border: 1px solid rgba(212, 175, 55, 0.2); }
        .reader-card:hover { transform: translateY(-5px); border-color: #d4af37; background: rgba(212, 175, 55, 0.1); }
        .reader-card.active { border-color: #ffdf00; background: rgba(212, 175, 55, 0.2); box-shadow: 0 0 15px rgba(255, 223, 0, 0.2); }
        .quran-font { font-family: 'Amiri', serif; }
        /* Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ù…Ø´ØºÙ„ */
        audio { height: 45px; filter: sepia(100%) saturate(500%) hue-rotate(10deg); }
    </style>
</head>
<body class="pb-32">

    <header class="p-6 border-b border-white/5 flex justify-between items-center sticky top-0 bg-[#020617]/90 backdrop-blur-md z-50">
        <a href="index.html" class="text-gold text-2xl">ğŸ </a>
        <h1 class="gold-title text-2xl font-bold">Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ù…Ø³Ù…ÙˆØ¹</h1>
        <div class="w-8"></div>
    </header>

    <div class="container mx-auto px-4 mt-8">
        <h3 class="text-xl mb-6 border-r-4 border-gold pr-3">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø§Ù„Ù…ÙØ¶Ù„</h3>
        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-12" id="readers-grid">
            </div>

        <hr class="border-white/5 mb-10">

        <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
            <h3 class="text-xl border-r-4 border-gold pr-3">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙˆØ±</h3>
            <input type="text" id="searchSurah" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø³ÙˆØ±Ø©..." class="bg-white/5 border border-white/10 rounded-full px-6 py-2 outline-none focus:border-gold w-full md:w-64">
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-3" id="surahs-list">
            </div>
    </div>

    <div class="fixed bottom-0 left-0 right-0 bg-[#0f172a] border-t border-gold/30 p-4 z-[100] shadow-2xl">
        <div class="container mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 bg-gold/20 rounded-full flex items-center justify-center text-gold text-2xl">ğŸŒ™</div>
                <div>
                    <h4 id="now-playing-surah" class="font-bold">Ø§Ø®ØªØ± Ø³ÙˆØ±Ø©</h4>
                    <p id="now-playing-reader" class="text-xs text-gray-400">Ø§Ù„Ù‚Ø§Ø±ÙŠØ¡: --</p>
                </div>
            </div>
            <audio id="main-audio" controls class="w-full md:w-1/2"></audio>
            <button onclick="downloadSurah()" class="bg-gold text-black px-6 py-2 rounded-full font-bold text-sm hover:scale-105 transition">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©</button>
        </div>
    </div>

    <script>
        const readers = [
            { id: 'ar.minshawi', name: 'Ù…Ø­Ù…Ø¯ ØµØ¯ÙŠÙ‚ Ø§Ù„Ù…Ù†Ø´Ø§ÙˆÙŠ' },
            { id: 'ar.abdulbasitmurattal', name: 'Ø¹Ø¨Ø¯Ø§Ù„Ø¨Ø§Ø³Ø· Ø¹Ø¨Ø¯Ø§Ù„ØµÙ…Ø¯' },
            { id: 'ar.husary', name: 'Ù…Ø­Ù…ÙˆØ¯ Ø®Ù„ÙŠÙ„ Ø§Ù„Ø­ØµØ±ÙŠ' },
            { id: 'ar.alafasy', name: 'Ù…Ø´Ø§Ø±ÙŠ Ø±Ø§Ø´Ø¯ Ø§Ù„Ø¹ÙØ§Ø³ÙŠ' },
            { id: 'ar.mahermuaiqly', name: 'Ù…Ø§Ù‡Ø± Ø§Ù„Ù…Ø¹ÙŠÙ‚Ù„ÙŠ' },
            { id: 'ar.shuraym', name: 'Ø³Ø¹ÙˆØ¯ Ø§Ù„Ø´Ø±ÙŠÙ…' }
        ];

        let selectedReader = readers[0];

        // Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø±Ø§Ø¡
        const readersGrid = document.getElementById('readers-grid');
        readers.forEach((r, index) => {
            const card = document.createElement('div');
            card.className = `reader-card glass-card p-4 text-center rounded-2xl ${index === 0 ? 'active' : ''}`;
            card.innerHTML = `<div class="w-16 h-16 bg-white/5 rounded-full mx-auto mb-3 flex items-center justify-center text-2xl">ğŸ‘¤</div>
                             <h4 class="text-sm font-bold">${r.name}</h4>`;
            card.onclick = () => {
                document.querySelectorAll('.reader-card').forEach(c => c.classList.remove('active'));
                card.classList.add('active');
                selectedReader = r;
                document.getElementById('now-playing-reader').innerText = `Ø§Ù„Ù‚Ø§Ø±ÙŠØ¡: ${r.name}`;
            };
            readersGrid.appendChild(card);
        });

        // Ø¬Ù„Ø¨ Ø§Ù„Ø³ÙˆØ±
        async function getSurahs() {
            const res = await fetch('https://api.alquran.cloud/v1/surah');
            const data = await res.json();
            displaySurahs(data.data);

            document.getElementById('searchSurah').oninput = (e) => {
                const filtered = data.data.filter(s => s.name.includes(e.target.value) || s.englishName.toLowerCase().includes(e.target.value.toLowerCase()));
                displaySurahs(filtered);
            };
        }

        function displaySurahs(surahs) {
            const list = document.getElementById('surahs-list');
            list.innerHTML = '';
            surahs.forEach(s => {
                const btn = document.createElement('div');
                btn.className = 'glass-card p-4 flex justify-between items-center cursor-pointer hover:bg-white/5 transition';
                btn.innerHTML = `<div><span class="text-gold ml-2">${s.number}.</span> <span class="quran-font text-xl">${s.name}</span></div>
                                 <span class="text-xs text-gray-500">${s.numberOfAyahs} Ø¢ÙŠØ©</span>`;
                btn.onclick = () => playSurah(s.number, s.name);
                list.appendChild(btn);
            });
        }

        function playSurah(num, name) {
            const audio = document.getElementById('main-audio');
            audio.src = `https://cdn.islamic.network/quran/audio-surah/128/${selectedReader.id}/${num}.mp3`;
            document.getElementById('now-playing-surah').innerText = name;
            document.getElementById('now-playing-reader').innerText = `Ø§Ù„Ù‚Ø§Ø±ÙŠØ¡: ${selectedReader.name}`;
            audio.play();
        }

        function downloadSurah() {
            const src = document.getElementById('main-audio').src;
            if(src) window.open(src, '_blank');
        }

        window.onload = getSurahs;
    </script>
</body>
</html>
