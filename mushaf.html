Enter<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>المصحف المكتوب | روحانيات</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-4 md:p-8">
    <nav class="max-w-6xl mx-auto mb-10">
        <a href="index.html" class="glass-card px-8 py-3 text-gold inline-block">العودة للرئيسية</a>
    </nav>
    <h2 class="gold-title text-5xl text-center mb-12">فهرس السور</h2>
    <div class="max-w-6xl mx-auto grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-5" id="surah-grid"></div>
    <div id="reader-modal" class="fixed inset-0 z-[3000] hidden bg-black/95 backdrop-blur-xl overflow-y-auto">
        <div class="p-4 flex items-center justify-center">
            <div class="max-w-4xl w-full glass-card p-8 relative my-10 border-t-8 border-yellow-600">
                <button onclick="closeReader()" class="absolute top-6 left-6 text-gold text-5xl">&times;</button>
                <h3 id="m-title" class="gold-title text-4xl text-center mb-10 quran-font"></h3>
                <div id="m-content" class="quran-font text-3xl leading-[2.5] text-center text-white/90"></div>
            </div>
        </div>
    </div>
    <script>
        async function fetchIndex() {
            const res = await fetch('https://api.alquran.cloud/v1/surah');
            const data = await res.json();
            const grid = document.getElementById('surah-grid');
            data.data.forEach(s => {
                const box = document.createElement('div');
                box.className = 'glass-card p-6 text-center cursor-pointer hover:border-yellow-500 transition-all';
                box.onclick = () => openReader(s.number, s.name);
                box.innerHTML = `<h4 class="text-xl font-bold">${s.name}</h4>`;
                grid.appendChild(box);
            });
        }
        async function openReader(id, name) {
            const modal = document.getElementById('reader-modal');
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            document.getElementById('m-title').innerText = name;
            const res = await fetch(`https://api.alquran.cloud/v1/surah/${id}`);
            const data = await res.json();
            document.getElementById('m-content').innerHTML = data.data.ayahs.map(a => `${a.text} ﴿${a.numberInSurah}﴾`).join(' ');
        }
        function closeReader() { document.getElementById('reader-modal').classList.add('hidden'); document.body.style.overflow = 'auto'; }
        window.onload = fetchIndex;
    </script>
</body>
</html>
