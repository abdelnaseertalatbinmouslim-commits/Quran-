<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>موقع القرآن الكريم | صدقة جارية</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@400;700;900&display=swap');
        
        body { 
            font-family: 'Tajawal', sans-serif; 
            background: #022c22; 
            background-image: radial-gradient(circle at top, #064e3b 0%, #022c22 100%);
            color: white; min-height: 100vh;
        }

        .quran-font { font-family: 'Amiri', serif; }
        
        .glass { 
            background: rgba(255, 255, 255, 0.03); 
            backdrop-filter: blur(15px); 
            border: 1px solid rgba(255, 255, 255, 0.1); 
        }

        .surah-card { transition: 0.3s; cursor: pointer; }
        .surah-card:hover { 
            background: rgba(52, 211, 153, 0.1); 
            transform: translateY(-5px); 
            border-color: #34d399;
        }
    </style>
</head>
<body class="py-10 px-4">

    <header class="max-w-4xl mx-auto text-center mb-12">
        <h1 class="text-5xl font-black text-emerald-400 mb-4 drop-shadow-lg">القرآن الكريم</h1>
        <p class="text-emerald-100 italic">"ألا بذكر الله تطمئن القلوب"</p>
        
        <div id="daily-ayah" class="glass mt-8 p-6 rounded-[30px] border-r-4 border-emerald-500">
            <p class="text-gray-400 text-xs mb-2">آية اليوم</p>
            <p id="ayah-text" class="quran-font text-2xl leading-loose mb-2">جاري تحميل الآية...</p>
            <p id="ayah-info" class="text-emerald-500 font-bold text-sm"></p>
        </div>
    </header>

    <section class="max-w-4xl mx-auto mb-12">
        <div class="glass p-8 rounded-[40px] shadow-2xl border-t border-emerald-500/30">
            <h3 class="text-center mb-6 font-bold text-emerald-400 uppercase tracking-widest text-sm">المشغل الصوتي</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <select id="reader-select" class="bg-slate-900 border border-emerald-500/30 p-3 rounded-xl outline-none text-white">
                    <option value="ar.alafasy">مشاري راشد العفاسي</option>
                    <option value="ar.abdulbasitmurattal">عبد الباسط عبد الصمد</option>
                    <option value="ar.minshawi">محمد صديق المنشاوي</option>
                    <option value="ar.husary">محمود خليل الحصري</option>
                </select>
                <select id="surah-select" class="bg-slate-900 border border-emerald-500/30 p-3 rounded-xl outline-none text-white"></select>
            </div>
            <audio id="main-player" controls class="w-full"></audio>
            <p id="playing-now" class="text-center mt-4 text-xs text-emerald-300 font-bold"></p>
        </div>
    </section>

    <main class="max-w-6xl mx-auto">
        <h2 class="text-2xl font-black mb-8 border-r-4 border-emerald-500 pr-4">فهرس السور</h2>
        <div id="surah-list" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-right"></div>
    </main>

    <footer class="mt-20 text-center pb-10 border-t border-emerald-900/30 pt-10">
        <p class="text-emerald-700 text-xs font-bold tracking-widest mb-2">صدقة جارية عن جميع المسلمين</p>
        <div class="flex items-center justify-center gap-2 text-emerald-500">
            <span class="h-[1px] w-10 bg-emerald-900"></span>
            <p class="font-bold text-sm">تم الإنشاء بواسطة: كابتن عبد الناصر طلعت</p>
            <span class="h-[1px] w-10 bg-emerald-900"></span>
        </div>
        <p class="text-emerald-900 text-[10px] mt-4 font-mono uppercase">All Rights Reserved © 2026</p>
    </footer>

    <script>
        async function getRandomAyah() {
            try {
                const randomAyahNum = Math.floor(Math.random() * 6236) + 1;
                const response = await fetch(`https://api.alquran.cloud/v1/ayah/${randomAyahNum}`);
                const data = await response.json();
                document.getElementById('ayah-text').innerText = data.data.text;
                document.getElementById('ayah-info').innerText = `[${data.data.surah.name} - آية ${data.data.numberInSurah}]`;
            } catch (err) { console.log(err); }
        }

        async function getSurahs() {
            const response = await fetch('https://api.alquran.cloud/v1/surah');
            const data = await response.json();
            const surahs = data.data;
            const select = document.getElementById('surah-select');
            const list = document.getElementById('surah-list');

            surahs.forEach(surah => {
                let option = document.createElement('option');
                option.value = surah.number;
                option.text = `${surah.number}. ${surah.name}`;
                select.appendChild(option);

                let card = document.createElement('div');
                card.className = 'glass surah-card p-4 rounded-2xl border border-emerald-900/30';
                card.innerHTML = `
                    <div class="flex justify-between items-center">
                        <span class="bg-emerald-500/20 text-emerald-400 w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold">${surah.number}</span>
                        <h4 class="font-black text-emerald-100">${surah.name}</h4>
                    </div>
                `;
                card.onclick = () => { select.value = surah.number; playAudio(); };
                list.appendChild(card);
            });
        }

        function playAudio() {
            const reader = document.getElementById('reader-select').value;
            const surah = document.getElementById('surah-select').value;
            const player = document.getElementById('main-player');
            player.src = `https://cdn.islamic.network/quran/audio-surah/128/${reader}/${surah}.mp3`;
            player.play();
            const surahName = document.getElementById('surah-select').options[document.getElementById('surah-select').selectedIndex].text;
            document.getElementById('playing-now').innerText = `جاري الاستماع إلى: ${surahName}`;
        }

        document.getElementById('surah-select').onchange = playAudio;
        document.getElementById('reader-select').onchange = playAudio;
        window.onload = () => { getRandomAyah(); getSurahs(); };
    </script>
</body>
</html>
